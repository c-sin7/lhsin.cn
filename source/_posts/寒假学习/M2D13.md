---
title: 并查集
author: sin
date: 2023-02-13
categories: 寒假学习
summary: 并查集
tags: 
  - 算法
---

并查集：

把a所在集合和e所在集合加到同一个集合

均摊下来，两个方法，单次使用每个方法O(1)

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230213134401039.png" alt="image-20230213134401039" style="zoom:50%;" />

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230213135044434.png" alt="image-20230213135044434" style="zoom:50%;" />

len小的挂在len大的下面，而且是代表节点挂过去

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230213135202911.png" alt="image-20230213135202911" style="zoom:50%;" />

sizemap：只有代表节点

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230213141606562.png" alt="image-20230213141606562" style="zoom:50%;" />



<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230213145623499.png" alt="image-20230213145623499" style="zoom:50%;" />

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230213145557154.png" alt="image-20230213145557154" style="zoom:80%;" />

题一：

查矩阵中有多少并查集

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215002939913.png" alt="image-20230215002939913" style="zoom:50%;" />

code：只遍历右上半区

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215003255733.png" alt="image-20230215003255733" style="zoom:80%;" />

题二：

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215004255581.png" alt="image-20230215004255581" style="zoom: 80%;" />

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215004541712.png" alt="image-20230215004541712" style="zoom:50%;" />

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215004731507.png" alt="image-20230215004731507" style="zoom:50%;" />

O(M*N)

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215005628099.png" alt="image-20230215005628099" style="zoom:50%;" />

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215134548680.png" alt="image-20230215134548680" style="zoom:50%;" />

要区分不同位置的1，所以要换成引用来区别

![image-20230215134726703](https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215134726703.png)

三个for：省掉边界判断

最上面没有上，最左边没有左，剩下的单独判断

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215134955747.png" alt="image-20230215134955747" style="zoom:50%;" />

code：

第一行：横着合并

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215135156177.png" alt="image-20230215135156177" style="zoom:80%;" />

第一列：竖着合并

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215135421599.png" alt="image-20230215135421599" style="zoom: 80%;" />

剩下的，和左边，和上边合并



另一种并查集实现方式：一维数组

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215144843198.png" alt="image-20230215144843198" style="zoom:50%;" />

题三：求每一步的岛数量

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215144825832.png" alt="image-20230215144825832" style="zoom:80%;" />

原先情况，合并之前size[i] = 1，合并之后size[i] = 0

现在不抹零了，只要size[i] != 0，说明曾经被初始化过

题四：

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215165239011.png" alt="image-20230215165239011" style="zoom: 67%;" />

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215165344538.png" alt="image-20230215165344538" style="zoom: 67%;" />

记录边界信息

<img src="https://raw.githubusercontent.com/c-sin7/picgoIMG/main/image-20230215205539232.png" alt="image-20230215205539232" style="zoom:50%;" />