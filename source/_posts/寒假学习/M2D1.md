---
title: 堆内存和栈内存
author: sin
date: 2023-02-01
categories: 寒假学习
summary: 堆内存和栈内存
tags: 
  - 内存
---

在Java中，内存分为两种，一种是栈内存，另一种就是堆内存



堆内存
作用是用于存储Java中的对象和数组，存放由new创建的对象和数组。

堆内存特点
第一点：队列

第二点：运行时动态地分配内存大小，生存期也不必事先告诉编译器，缺点：由于要在运行时动态分配内存，存取速度较慢。

堆内存分配机制

由Java虚拟机的自动垃圾回收器来管理



栈内存
作用是存放方法或者局部变量，比如：基本类型的变量和对象的引用变量

栈内存特点

存取速度比堆要快，仅次于寄存器，栈数据可以共享，缺点：存在栈中的数据大小与生存期必须是确定的，缺乏灵活性

栈内存分配机制
栈内存可以称为一级缓存，由垃圾回收器自动回收


JVM是基于堆栈的虚拟机，JVM对堆栈只进行两种操作：以帧为单位的压栈和出栈操作。

JVM为每个新创建的线程都分配一个堆栈

对于一个Java程序来说，它的运行就是通过对堆栈的操作来完成的。堆栈以==**帧**==为单位保存线程的状态。



相同

1.都是属于Java内存的一种
2.系统都会自动去回收它，但是对于堆内存一般开发人员会自动回收它